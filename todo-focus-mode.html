<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlayTime Focus Mode Example</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .app-container {
            display: flex;
            width: 100%;
            max-width: 1200px;
            height: 80vh; /* Adjust height for demonstration */
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        .sheet-music-view {
            flex-grow: 1;
            background-color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative; /* For the overlay button */
        }
        .sheet-music-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
        .sidebar {
            width: 280px;
            background-color: #f8fafc;
            border-left: 1px solid #e2e8f0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            position: relative; /* For the focus mode button */
            overflow-y: auto; /* Enable scrolling for sidebar content */
        }
        .top-bar {
            width: 100%;
            padding: 15px 20px;
            background-color: #ffffff;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #334155;
            border-radius: 12px 12px 0 0; /* Rounded top corners */
        }
        .focus-mode-button-trigger {
            position: absolute;
            top: 20px; /* Adjust as needed */
            right: 20px; /* Adjust as needed */
            background-color: #4f46e5; /* Indigo */
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            z-index: 10; /* Ensure it's above the music */
        }
        .focus-mode-button-trigger:hover {
            background-color: #4338ca; /* Darker indigo */
            transform: translateY(-1px);
        }
        .focus-mode-button-trigger:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Focus Mode Styles - These would be toggled by JS */
        .app-container.focus-mode .sidebar {
            display: none; /* Hide sidebar */
        }
        .app-container.focus-mode .top-bar {
            display: none; /* Hide top bar */
        }
        .app-container.focus-mode .sheet-music-view {
            width: 100%;
            flex-grow: 1;
            padding: 0; /* Remove padding to maximize space */
        }
        .app-container.focus-mode .sheet-music-image {
            border-radius: 0; /* Remove rounded corners for full screen */
            box-shadow: none; /* Remove shadow */
        }
        .app-container.focus-mode .focus-mode-button-trigger {
            position: fixed; /* Keep it visible in focus mode */
            top: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.6); /* Semi-transparent for less distraction */
            color: white;
            padding: 8px 12px;
            font-size: 0.9em;
            border-radius: 6px;
            box-shadow: none;
        }
        .app-container.focus-mode .focus-mode-button-trigger:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        /* Custom styles for library section to fit within Tailwind structure */
        .library-section-in-sidebar {
            background: none; /* Remove background as sidebar already has one */
            padding: 0; /* Remove padding as sidebar already has one */
            box-shadow: none; /* Remove shadow */
            margin-bottom: 0;
            opacity: 1; /* Ensure full opacity when integrated */
            max-height: none; /* Remove height limits */
            overflow: visible;
        }

        .library-header-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        #add-score-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #pdf-upload {
            display: none;
        }

        label[for="pdf-upload"] {
            display: block;
            padding: 0.5rem 1rem;
            background-color: #3498db; /* Blue for consistency */
            color: white;
            border-radius: 4px;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.3s;
            font-size: 0.9rem; /* Slightly smaller for sidebar */
            white-space: nowrap; /* Prevent text wrap */
        }

        label[for="pdf-upload"]:hover {
            background-color: #2980b9;
        }

        .score-item {
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            background-color: #ecf0f1;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 0.9em;
            color: #334155;
        }

        .score-item:hover {
            background-color: #d5dbdb;
        }

        .score-item.selected {
            background-color: #4f46e5; /* Use primary indigo for selected */
            color: white;
        }


        /* Responsive adjustments */
        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
                height: 95vh;
            }
            .sidebar {
                width: 100%;
                height: auto;
                border-left: none;
                border-top: 1px solid #e2e8f0;
                padding: 15px;
                order: 2; /* Move sidebar to bottom in column layout */
            }
            .sheet-music-view {
                order: 1;
                padding: 15px;
            }
            .top-bar {
                border-radius: 12px 12px 0 0;
            }
            /* Adjust focus mode button for smaller screens */
            .focus-mode-button-trigger {
                top: 15px;
                right: 15px;
                padding: 8px 12px;
                font-size: 0.8em;
            }
            .app-container.focus-mode .focus-mode-button-trigger {
                top: 15px;
                right: 15px;
            }
        }
    </style>
</head>
<body>
    <div id="app" class="app-container">
        <!-- Top Bar (Visible in normal mode, hidden in focus mode) -->
        <div class="top-bar absolute top-0 left-0 right-0 z-10 rounded-t-xl">
            <span class="text-lg">PlayTime: Structure your music practice for accelerated learning</span>
            <!-- This is where the "Focus Mode" toggle button would be in the main UI -->
        </div>

        <!-- Sheet Music View -->
        <div class="sheet-music-view relative flex-grow">
            <!-- Focus Mode Trigger Button (Always visible, even in focus mode for exit) -->
            <button id="focusModeToggle" class="focus-mode-button-trigger">
                Focus Mode
            </button>

            <img src="https://placehold.co/800x1000/e0e0e0/333333?text=Sheet+Music+Here" alt="Sheet Music Placeholder" class="sheet-music-image">
            <!-- In a real app, this would be the actual sheet music rendering -->

            <!-- Example of sheet music content in focus mode -->
            <div id="focusModeContent" class="absolute inset-0 flex justify-center items-center p-0 hidden">
                <img src="https://placehold.co/800x1000/ffffff/333333?text=A+Whole+New+World%0A(Focus+Mode)" alt="Sheet Music in Focus Mode" class="max-w-full max-h-full object-contain">
            </div>
        </div>

        <!-- Sidebar (Visible in normal mode, hidden in focus mode) -->
        <div class="sidebar">
            <div class="text-gray-700">
                <h3 class="font-bold text-lg mb-2">Page Navigation</h3>
                <div class="flex items-center justify-between">
                    <button class="px-3 py-1 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors">◀</button>
                    <span>Page 1 of 3</span>
                    <button class="px-3 py-1 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors">▶</button>
                </div>
            </div>

            <div class="text-gray-700">
                <h3 class="font-bold text-lg mb-2">Current Score</h3>
                <p>A whole new world.pdf</p>
            </div>

            <!-- Mark Section Confidence Controls -->
            <div class="text-gray-700">
                <h3 class="font-bold text-lg mb-2">Mark Section Confidence:</h3>
                <div class="flex gap-2">
                    <span id="color-red" data-color="red" title="Need Study (Red)" class="w-6 h-6 rounded-full bg-red-500 cursor-pointer hover:opacity-80 transition-opacity"></span>
                    <span id="color-orange" data-color="orange" title="Unsure (Orange)" class="w-6 h-6 rounded-full bg-orange-400 cursor-pointer hover:opacity-80 transition-opacity"></span>
                    <span id="color-green" data-color="green" title="Confident (Green)" class="w-6 h-6 rounded-full bg-green-500 cursor-pointer hover:opacity-80 transition-opacity"></span>
                </div>
            </div>

            <div class="flex-grow"></div> <!-- Spacer -->

            <!-- Scores Library Section (includes Add a Score) - Integrated into Sidebar -->
            <section id="library-section" class="library-section-in-sidebar text-gray-700">
                <div class="library-header-row">
                    <h2 class="text-lg font-bold">Your Scores</h2>
                    <div id="add-score-controls">
                        <input type="file" id="pdf-upload" accept="application/pdf" aria-label="Upload PDF score">
                        <label for="pdf-upload" class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded-md cursor-pointer text-sm transition-colors shadow-sm">Add a Score</label>
                    </div>
                </div>
                <div id="scores-list" class="mt-2 space-y-2">
                    <!-- Dynamic content: list of uploaded scores will appear here -->
                    <!-- Example Scores -->
                    <div class="score-item bg-gray-100 hover:bg-gray-200 rounded-md p-2 cursor-pointer transition-colors shadow-sm">
                        <p class="font-medium">A Whole New World</p>
                        <p class="text-xs text-gray-500">Composer: Alan Menken</p>
                    </div>
                    <div class="score-item bg-gray-100 hover:bg-gray-200 rounded-md p-2 cursor-pointer transition-colors shadow-sm selected">
                        <p class="font-medium">Canon in D</p>
                        <p class="text-xs text-gray-500">Composer: Johann Pachelbel</p>
                    </div>
                    <div class="score-item bg-gray-100 hover:bg-gray-200 rounded-md p-2 cursor-pointer transition-colors shadow-sm">
                        <p class="font-medium">Für Elise</p>
                        <p class="text-xs text-gray-500">Composer: Ludwig van Beethoven</p>
                    </div>
                    <div class="score-item bg-gray-100 hover:bg-gray-200 rounded-md p-2 cursor-pointer transition-colors shadow-sm">
                        <p class="font-medium">Moonlight Sonata (1st Mvt)</p>
                        <p class="text-xs text-gray-500">Composer: Ludwig van Beethoven</p>
                    </div>
                </div>
            </section>

            <!-- Example of other sidebar tools -->
            <div class="text-gray-700 mt-4"> <!-- Added margin-top to separate from library -->
                <h3 class="font-bold text-lg mb-2">Practice Tools</h3>
                <ul class="space-y-1">
                    <li class="flex items-center gap-2 text-sm text-gray-600">
                        <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"></path>
                        </svg>
                        Metronome
                    </li>
                    <li class="flex items-center gap-2 text-sm text-gray-600">
                        <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
                            <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path>
                        </svg>
                        Tuner
                    </li>
                    <li class="flex items-center gap-2 text-sm text-gray-600">
                        <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm12 1.5a.5.5 0 01.5.5v5a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zM4 6a1 1 0 011-1h.5a1 1 0 011 1v.5a1 1 0 01-1 1H5a1 1 0 01-1-1V6zm3 0a1 1 0 011-1h.5a1 1 0 011 1v.5a1 1 0 01-1 1H8a1 1 0 01-1-1V6zm3 0a1 1 0 011-1h.5a1 1 0 011 1v.5a1 1 0 01-1 1H11a1 1 0 01-1-1V6zm0 3a1 1 0 011-1h.5a1 1 0 011 1v.5a1 1 0 01-1 1H11a1 1 0 01-1-1V9zm-3 0a1 1 0 011-1h.5a1 1 0 011 1v.5a1 1 0 01-1 1H8a1 1 0 01-1-1V9zm-3 0a1 1 0 011-1h.5a1 1 0 011 1v.5a1 1 0 01-1 1H5a1 1 0 01-1-1V9z" clip-rule="evenodd"></path>
                        </svg>
                        Loop Section
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const focusModeToggle = document.getElementById('focusModeToggle');
            const appContainer = document.getElementById('app');
            const sheetMusicImage = appContainer.querySelector('.sheet-music-image');
            const focusModeContent = document.getElementById('focusModeContent');
            const topBar = appContainer.querySelector('.top-bar');
            const sidebar = appContainer.querySelector('.sidebar');

            let isFocusMode = false;

            focusModeToggle.addEventListener('click', function() {
                isFocusMode = !isFocusMode;

                if (isFocusMode) {
                    appContainer.classList.add('focus-mode');
                    // Hide original elements
                    sheetMusicImage.classList.add('hidden');
                    // Show focus mode specific content
                    focusModeContent.classList.remove('hidden');
                    focusModeToggle.textContent = 'Exit Focus'; // Change button text
                    // Adjust button position for focus mode
                    focusModeToggle.style.position = 'fixed';
                    focusModeToggle.style.backgroundColor = 'rgba(0, 0, 0, 0.6)';
                    focusModeToggle.style.color = 'white';
                    focusModeToggle.style.padding = '8px 12px';
                    focusModeToggle.style.fontSize = '0.9em';
                    focusModeToggle.style.borderRadius = '6px';
                    focusModeToggle.style.boxShadow = 'none';
                } else {
                    appContainer.classList.remove('focus-mode');
                    // Show original elements
                    sheetMusicImage.classList.remove('hidden');
                    // Hide focus mode specific content
                    focusModeContent.classList.add('hidden');
                    focusModeToggle.textContent = 'Focus Mode'; // Restore button text
                    // Restore button position for normal mode
                    focusModeToggle.style.position = 'absolute';
                    focusModeToggle.style.backgroundColor = '#4f46e5';
                    focusModeToggle.style.color = 'white';
                    focusModeToggle.style.padding = '10px 15px';
                    focusModeToggle.style.fontSize = '1em';
                    focusModeToggle.style.borderRadius = '8px';
                    focusModeToggle.style.box-shadow = '0 4px 8px rgba(0, 0, 0, 0.1)';
                }
            });

            // Add event listeners for score items to simulate selection
            document.querySelectorAll('.score-item').forEach(item => {
                item.addEventListener('click', () => {
                    // Remove 'selected' from all items
                    document.querySelectorAll('.score-item').forEach(i => i.classList.remove('selected'));
                    // Add 'selected' to the clicked item
                    item.classList.add('selected');
                    // Update current score title (for demonstration)
                    document.querySelector('.current-score-title').textContent = item.querySelector('p:first-child').textContent + '.pdf';
                });
            });
        });
    </script>
</body>
</html>
