<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlayTime - Music Practice App</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <header>
        <h1>PlayTime</h1>
        <p>Structure your music practice for accelerated learning</p>
    </header>

    <main>
        <!-- PDF Viewer Section -->
        <section id="viewer-section">
            <div class="viewer-main-row">
                <div class="viewer-left-col">
                    <div class="pdf-viewer-container">
                        <canvas id="pdf-canvas"></canvas>
                        <div class="selection-overlay" style="display: none;"></div>
                    </div>
                    <div id="selected-message"></div>
                    <!-- Practice Focus Controls -->
                    <div class="practice-controls">
                        <button id="focus-section-btn" style="display: none;">Focus on Section</button>
                        <button id="exit-focus-btn" style="display: none;">Exit Focus</button>
                    </div>
                </div>
                <div class="viewer-right-col">
                    <div class="viewer-controls">
                        <div class="nav-controls-row">
                            <button id="prev-page-btn" aria-label="Previous page">◀</button>
                            <span id="page-info">Page 1 of 1</span>
                            <button id="next-page-btn" aria-label="Next page">▶</button>
                        </div>
                        <div class="current-score-title"></div>
                    </div>
                    <!-- Highlighting Controls -->
                    <div class="highlight-controls">
                        <h3>Mark Section Confidence:</h3>
                        <button id="color-green" class="color-btn green" data-color="green" title="Confident (Green)">●</button>
                        <button id="color-amber" class="color-btn amber" data-color="amber" title="Unsure (Amber)">●</button>
                        <button id="color-red" class="color-btn red" data-color="red" title="Need Study (Red)">●</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Scores Library Section (now includes Add a Score) -->
        <section id="library-section">
            <div class="library-header-row">
                <h2>Your Scores</h2>
                <div id="add-score-controls">
                    <input type="file" id="pdf-upload" accept="application/pdf" aria-label="Upload PDF score">
                    <label for="pdf-upload">Add a Score</label>
                </div>
            </div>
            <div id="scores-list">
                <!-- Dynamic content: list of uploaded scores will appear here -->
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="scripts/logger.js"></script>
    <script src="scripts/score.js"></script>
    <script type="module" src="db/AbstractDatabase.js"></script>
    <script type="module" src="db/IndexedDBDatabase.js"></script>
    <script src="scripts/pdf-viewer.js"></script>
    <script src="scripts/score-list.js"></script>
    <script src="scripts/highlighting.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>
